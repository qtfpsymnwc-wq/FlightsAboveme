name = "flightsabove"
main = "worker.js"
compatibility_date = "2026-02-04"

[vars]
# AeroDataBox (RapidAPI)
AERODATA_HOST = "aerodatabox.p.rapidapi.com"
AERODATA_DAILY_BUDGET = "400"  # daily upstream AeroDataBox call cap

# ADS-B fallback provider (OpenSky backup)
# Optional — defaults to https://api.adsb.lol if omitted
ADSBLOL_BASE = "https://api.adsb.lol"

# Secrets configured via:
#   wrangler secret put <NAME>
#
# Required:
#   AERODATA_KEY
#
# OpenSky (OAuth2 – recommended):
#   OPENSKY_CLIENT_ID
#   OPENSKY_CLIENT_SECRET
#
# (Optional legacy OpenSky basic auth if you still have it)
#   OPENSKY_USER
#   OPENSKY_PASS
# ---------------------------------------------------------------------------
# Permanent bindings lock (IMPORTANT)
#
# Cloudflare bindings can appear to "disappear" after deploys if they are not
# declared in wrangler.toml. To permanently lock bindings to the repo, fill in
# the IDs below and commit this file.
#
# Get IDs:
#   npx wrangler kv namespace list
#   npx wrangler d1 list
#
# Then replace the placeholder strings below with the real IDs.
# ---------------------------------------------------------------------------

kv_namespaces = [
  { binding = "AIRCRAFT_KV", id = "71b6264513e94b99ab667fd2424ee755" }
]

d1_databases = [
  { binding = "DB", database_name = "flights_db", database_id = "982b56a9-c663-4c88-97d5-0a5b85e85be3" }
]
